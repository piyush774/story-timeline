<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Timeline Feature - Executive Presentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border-radius: 15px;
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .section {
            padding: 50px 40px;
            border-bottom: 2px solid #f0f0f0;
        }

        .section:last-child {
            border-bottom: none;
        }

        .section h2 {
            font-size: 2.2em;
            color: #667eea;
            margin-bottom: 25px;
            border-left: 6px solid #764ba2;
            padding-left: 20px;
        }

        .section h3 {
            font-size: 1.6em;
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .intro-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            font-size: 1.2em;
            line-height: 1.8;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .process-flow {
            display: flex;
            flex-direction: column;
            gap: 25px;
            margin-top: 30px;
        }

        .process-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }

        .process-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .process-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        }

        .process-card h4 {
            font-size: 1.4em;
            color: #667eea;
            margin-bottom: 15px;
            padding-left: 15px;
        }

        .process-card ul {
            list-style: none;
            padding-left: 15px;
        }

        .process-card li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }

        .process-card li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #764ba2;
            font-weight: bold;
            font-size: 1.2em;
        }

        .timeline-diagram {
            background: #f9f9f9;
            padding: 40px;
            border-radius: 12px;
            margin: 30px 0;
            text-align: center;
        }

        .timeline-visual {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }

        .timeline-step {
            flex: 1;
            min-width: 150px;
            padding: 25px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
        }

        .timeline-step::after {
            content: '‚Üí';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #667eea;
        }

        .timeline-step:last-child::after {
            content: '';
        }

        .timeline-step-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8em;
            font-weight: bold;
        }

        .timeline-step-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .timeline-step-desc {
            font-size: 0.9em;
            color: #666;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .benefit-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .benefit-card:hover {
            transform: translateY(-8px);
        }

        .benefit-icon {
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .benefit-card h4 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .benefit-card p {
            font-size: 1em;
            opacity: 0.95;
        }

        .architecture-diagram {
            background: white;
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            margin: 30px 0;
        }

        .arch-row {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .arch-box {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            border: 2px solid #667eea;
            text-align: center;
            font-weight: bold;
        }

        .arch-arrow {
            font-size: 2em;
            color: #764ba2;
            font-weight: bold;
        }

        .metrics-section {
            background: #f9f9f9;
            padding: 30px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .metric-box {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .metric-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .metric-label {
            color: #666;
            font-size: 1em;
        }

        .highlight-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 20px 0;
        }

        footer {
            background: #2d3436;
            color: white;
            text-align: center;
            padding: 30px;
            font-size: 0.9em;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
            }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }
            .section {
                padding: 30px 20px;
            }
            .timeline-visual {
                flex-direction: column;
            }
            .timeline-step::after {
                content: '‚Üì';
                right: 50%;
                top: auto;
                bottom: -35px;
                transform: translateX(50%);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üì∞ Story Timeline Feature</h1>
            <p>Intelligent News Article Clustering & Timeline Generation</p>
        </header>

        <!-- Introduction Section -->
        <div class="section">
            <h2>What is the Story Timeline?</h2>
            <div class="intro-box">
                <strong>Story Timeline</strong> automatically groups related news articles into coherent <strong>"storylines"</strong> over time. Each timeline is a cluster of articles about the same evolving event, enriched with titles, summaries, and key highlights.
            </div>
            
            <div class="timeline-diagram">
                <h3 style="color: #667eea; margin-bottom: 20px;">üìä How It Works</h3>
                <svg width="100%" height="200" viewBox="0 0 800 200">
                    <!-- Articles -->
                    <circle cx="100" cy="100" r="30" fill="#667eea" opacity="0.7"/>
                    <circle cx="120" cy="70" r="25" fill="#667eea" opacity="0.7"/>
                    <circle cx="90" cy="130" r="28" fill="#667eea" opacity="0.7"/>
                    <text x="100" y="105" text-anchor="middle" fill="white" font-size="12" font-weight="bold">A1</text>
                    <text x="120" y="75" text-anchor="middle" fill="white" font-size="12" font-weight="bold">A2</text>
                    <text x="90" y="135" text-anchor="middle" fill="white" font-size="12" font-weight="bold">A3</text>
                    <text x="100" y="180" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">Individual Articles</text>
                    
                    <!-- Arrow -->
                    <path d="M 180 100 L 280 100" stroke="#764ba2" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <text x="230" y="90" text-anchor="middle" fill="#764ba2" font-size="16" font-weight="bold">AI Processing</text>
                    
                    <!-- Timeline -->
                    <rect x="320" y="40" width="160" height="120" rx="10" fill="#764ba2" opacity="0.2" stroke="#764ba2" stroke-width="2"/>
                    <circle cx="400" cy="70" r="8" fill="#764ba2"/>
                    <circle cx="400" cy="100" r="8" fill="#764ba2"/>
                    <circle cx="400" cy="130" r="8" fill="#764ba2"/>
                    <line x1="400" y1="70" x2="400" y2="130" stroke="#764ba2" stroke-width="3"/>
                    <text x="400" y="180" text-anchor="middle" fill="#333" font-size="14" font-weight="bold">Coherent Timeline</text>
                    
                    <!-- Output -->
                    <path d="M 520 100 L 620 100" stroke="#764ba2" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <rect x="640" y="60" width="120" height="80" rx="8" fill="#667eea"/>
                    <text x="700" y="95" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Enriched</text>
                    <text x="700" y="110" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Timeline</text>
                    <text x="700" y="125" text-anchor="middle" fill="white" font-size="10">+ Title</text>
                    <text x="700" y="138" text-anchor="middle" fill="white" font-size="10">+ Summary</text>
                    
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#764ba2"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>

        <!-- Batch Timeline Creation -->
        <div class="section">
            <h2>üîÑ 1. Batch Timeline Creation (Every 30 Days)</h2>
            
            <div class="process-flow">
                <div class="process-card">
                    <h4>A. Collect & Prepare</h4>
                    <ul>
                        <li>Ingest the full article corpus (last 30 days)</li>
                        <li>Generate TF-IDF tokens (lexical features)</li>
                        <li>Create dense embeddings using MiniLM</li>
                        <li>Extract entities (people, places, organizations via spaCy)</li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>B. Group Stories into Timelines</h4>
                    <ul>
                        <li>Cluster articles into events within a moving 72-hour window (24-hour stride)</li>
                        <li>Use hybrid similarity score combining:
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                <li>Dense cosine similarity (embeddings)</li>
                                <li>Lexical cosine similarity (TF-IDF)</li>
                                <li>Entity overlap</li>
                                <li>Time decay to favor closer publish times</li>
                            </ul>
                        </li>
                        <li>Only link articles if final score ‚â• 0.60 for tight coherence</li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>C. Polish & Enrich</h4>
                    <ul>
                        <li>Run LLMs on each cluster to generate:
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                <li>Timeline title</li>
                                <li>Summary & key highlights</li>
                                <li>Meta signals (importance, density, coverage)</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>D. Quality Pass</h4>
                    <ul>
                        <li>Optional sanitizer rechecks wording and relevance</li>
                        <li>Drops off-topic articles</li>
                        <li>Skips very small / low-value timelines</li>
                        <li>Result: cleaner timelines with no obvious noise</li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>E. Timeline Snapshot</h4>
                    <ul>
                        <li>Save enriched timelines to timelines_flat_enriched.json</li>
                        <li>Rebuild timeline centroids for matching</li>
                        <li>Create MSID ‚Üí timeline mapping</li>
                        <li>Identify trending timelines</li>
                        <li>Archive previous snapshot for easy rollback</li>
                    </ul>
                </div>
            </div>

            <div class="architecture-diagram">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 25px;">Batch Processing Architecture</h3>
                <div class="arch-row">
                    <div class="arch-box">üìÑ Article Corpus<br>(30 days)</div>
                    <div class="arch-arrow">‚Üí</div>
                    <div class="arch-box">üîß Feature Extraction<br>(TF-IDF, Embeddings, Entities)</div>
                    <div class="arch-arrow">‚Üí</div>
                    <div class="arch-box">üîó Clustering<br>(72h window)</div>
                </div>
                <div class="arch-row">
                    <div class="arch-box">ü§ñ LLM Enrichment<br>(Titles, Summaries)</div>
                    <div class="arch-arrow">‚Üí</div>
                    <div class="arch-box">‚úÖ Quality Check<br>(Sanitization)</div>
                    <div class="arch-arrow">‚Üí</div>
                    <div class="arch-box">üíæ Timeline Snapshot<br>(JSON Storage)</div>
                </div>
            </div>
        </div>

        <!-- Realtime Updates -->
        <div class="section">
            <h2>‚ö° 2. Realtime Updates (Continuous)</h2>
            
            <div class="timeline-visual">
                <div class="timeline-step">
                    <div class="timeline-step-icon">1</div>
                    <div class="timeline-step-title">Intake New Articles</div>
                    <div class="timeline-step-desc">Generate TF-IDF, MiniLM embeddings, and entities</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-icon">2</div>
                    <div class="timeline-step-title">Instant Attach</div>
                    <div class="timeline-step-desc">Score against existing centroids (‚â•0.55)</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-icon">3</div>
                    <div class="timeline-step-title">Hold for Review</div>
                    <div class="timeline-step-desc">Low confidence articles go to backlog</div>
                </div>
                <div class="timeline-step">
                    <div class="timeline-step-icon">4</div>
                    <div class="timeline-step-title">Mini-Batch Promote</div>
                    <div class="timeline-step-desc">Process backlog every 4 hours</div>
                </div>
            </div>

            <div class="process-flow" style="margin-top: 40px;">
                <div class="process-card">
                    <h4>A. Intake New Articles</h4>
                    <ul>
                        <li>Generate same features (TF-IDF + MiniLM + entities)</li>
                        <li>Ensure compatibility with existing centroids</li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>B. Instant Attach</h4>
                    <ul>
                        <li>Score each article against existing timeline centroids</li>
                        <li>If similarity ‚â• ~0.55 (with softer recheck):
                            <ul style="margin-left: 20px; margin-top: 10px;">
                                <li>Attach article to timeline</li>
                                <li>Update MSID ‚Üí timeline mapping</li>
                                <li>No need to recompute other timelines</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>C. Hold for Review (Backlog)</h4>
                    <ul>
                        <li>Articles with low confidence / no good match</li>
                        <li>Not forced into a timeline</li>
                        <li>Go to rejected backlog (pending queue)</li>
                    </ul>
                </div>

                <div class="process-card">
                    <h4>D. Mini-Batch Promote (Every ~4 hours)</h4>
                    <ul>
                        <li>Process backlog articles in 4-hour windows</li>
                        <li>Cluster & link them</li>
                        <li>Remove duplicates</li>
                        <li>Run LLM enrichment & sanitization</li>
                        <li>Merge newly formed timelines into main snapshot</li>
                        <li>Append features to store</li>
                        <li>Rebuild MSID map + trending</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <strong>‚ö° Real-time Performance:</strong> New articles are matched and attached to existing timelines in near real-time, ensuring users always see the most current information without waiting for batch processing.
            </div>
        </div>

        <!-- Technical Architecture -->
        <div class="section">
            <h2>üèóÔ∏è Technical Architecture</h2>
            
            <div class="metrics-section">
                <h3>Key Technical Components</h3>
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-number">72h</div>
                        <div class="metric-label">Clustering Window</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-number">0.60</div>
                        <div class="metric-label">Similarity Threshold (Batch)</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-number">0.55</div>
                        <div class="metric-label">Similarity Threshold (Realtime)</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-number">4h</div>
                        <div class="metric-label">Mini-Batch Interval</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-number">30d</div>
                        <div class="metric-label">Batch Processing Cycle</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-number">24h</div>
                        <div class="metric-label">Window Stride</div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 40px;">
                <h3>Hybrid Similarity Scoring</h3>
                <div class="architecture-diagram">
                    <svg width="100%" height="300" viewBox="0 0 800 300">
                        <!-- Input Articles -->
                        <rect x="50" y="130" width="120" height="40" rx="5" fill="#667eea"/>
                        <text x="110" y="155" text-anchor="middle" fill="white" font-weight="bold">Article A</text>
                        
                        <!-- Similarity Components -->
                        <g>
                            <!-- Dense Embedding -->
                            <rect x="250" y="30" width="140" height="50" rx="8" fill="#764ba2" opacity="0.8"/>
                            <text x="320" y="52" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Dense Cosine</text>
                            <text x="320" y="68" text-anchor="middle" fill="white" font-size="11">(MiniLM Embeddings)</text>
                            <path d="M 170 145 L 250 60" stroke="#764ba2" stroke-width="2" fill="none"/>
                            
                            <!-- Lexical -->
                            <rect x="250" y="100" width="140" height="50" rx="8" fill="#667eea" opacity="0.8"/>
                            <text x="320" y="122" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Lexical Cosine</text>
                            <text x="320" y="138" text-anchor="middle" fill="white" font-size="11">(TF-IDF)</text>
                            <path d="M 170 150 L 250 125" stroke="#667eea" stroke-width="2" fill="none"/>
                            
                            <!-- Entity Overlap -->
                            <rect x="250" y="170" width="140" height="50" rx="8" fill="#9b59b6" opacity="0.8"/>
                            <text x="320" y="192" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Entity Overlap</text>
                            <text x="320" y="208" text-anchor="middle" fill="white" font-size="11">(spaCy NER)</text>
                            <path d="M 170 155 L 250 195" stroke="#9b59b6" stroke-width="2" fill="none"/>
                            
                            <!-- Time Decay -->
                            <rect x="250" y="240" width="140" height="50" rx="8" fill="#e74c3c" opacity="0.8"/>
                            <text x="320" y="262" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Time Decay</text>
                            <text x="320" y="278" text-anchor="middle" fill="white" font-size="11">(Publish Time)</text>
                            <path d="M 170 160 L 250 265" stroke="#e74c3c" stroke-width="2" fill="none"/>
                        </g>
                        
                        <!-- Combination -->
                        <rect x="470" y="130" width="120" height="40" rx="5" fill="#27ae60"/>
                        <text x="530" y="145" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Hybrid Score</text>
                        <text x="530" y="160" text-anchor="middle" fill="white" font-size="11">Combined</text>
                        
                        <path d="M 390 55 L 470 145" stroke="#27ae60" stroke-width="2" fill="none"/>
                        <path d="M 390 125 L 470 148" stroke="#27ae60" stroke-width="2" fill="none"/>
                        <path d="M 390 195 L 470 152" stroke="#27ae60" stroke-width="2" fill="none"/>
                        <path d="M 390 265 L 470 155" stroke="#27ae60" stroke-width="2" fill="none"/>
                        
                        <!-- Decision -->
                        <path d="M 590 150 L 640 150" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrow2)"/>
                        <polygon points="660,120 660,180 720,150" fill="#f39c12" stroke="#333" stroke-width="2"/>
                        <text x="690" y="145" text-anchor="middle" fill="#333" font-size="11" font-weight="bold">‚â• 0.60?</text>
                        <text x="690" y="160" text-anchor="middle" fill="#333" font-size="10">(Batch)</text>
                        
                        <defs>
                            <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#333"/>
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Key Benefits -->
        <div class="section">
            <h2>‚ú® Key Benefits</h2>
            
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">üìä</div>
                    <h4>Coherent Storylines</h4>
                    <p>Transform isolated articles into meaningful, connected narratives that show how stories evolve over time</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">‚ö°</div>
                    <h4>Low Latency</h4>
                    <p>New articles get attached to timelines in near real-time, ensuring users always see the latest developments</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">üéØ</div>
                    <h4>High Quality</h4>
                    <p>Hybrid scoring + LLM enrichment + sanitizer keeps timelines clean and relevant with minimal noise</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-icon">üîí</div>
                    <h4>Safe & Maintainable</h4>
                    <p>Snapshot-based architecture with rollback capability and backlog review ensures system reliability</p>
                </div>
            </div>

            <div class="metrics-section" style="margin-top: 40px;">
                <h3>Business Value</h3>
                <div class="process-flow">
                    <div class="process-card">
                        <h4>üìà Enhanced User Experience</h4>
                        <ul>
                            <li>Users can follow complete story arcs instead of disconnected articles</li>
                            <li>Automatic summaries save time and provide context</li>
                            <li>Trending timelines highlight important developing stories</li>
                        </ul>
                    </div>
                    
                    <div class="process-card">
                        <h4>üîç Improved Content Discovery</h4>
                        <ul>
                            <li>Related articles are automatically grouped for easy exploration</li>
                            <li>Historical context is preserved and accessible</li>
                            <li>Key highlights surface the most important information</li>
                        </ul>
                    </div>
                    
                    <div class="process-card">
                        <h4>üí° Intelligent Organization</h4>
                        <ul>
                            <li>AI-powered clustering eliminates manual categorization</li>
                            <li>Multi-modal similarity scoring ensures accuracy</li>
                            <li>Continuous quality checks maintain high standards</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Workflow Summary -->
        <div class="section">
            <h2>üîÑ Complete System Workflow</h2>
            
            <div class="architecture-diagram">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 30px;">End-to-End Process Flow</h3>
                
                <svg width="100%" height="500" viewBox="0 0 900 500">
                    <!-- Batch Processing (Left Side) -->
                    <text x="150" y="30" text-anchor="middle" fill="#667eea" font-size="18" font-weight="bold">BATCH PROCESSING</text>
                    <text x="150" y="50" text-anchor="middle" fill="#666" font-size="12">(Every 30 Days)</text>
                    
                    <rect x="50" y="70" width="200" height="60" rx="8" fill="#667eea" opacity="0.2" stroke="#667eea" stroke-width="2"/>
                    <text x="150" y="95" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">1. Collect Articles</text>
                    <text x="150" y="115" text-anchor="middle" fill="#666" font-size="11">(30-day corpus)</text>
                    
                    <path d="M 150 130 L 150 160" stroke="#764ba2" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <rect x="50" y="160" width="200" height="60" rx="8" fill="#764ba2" opacity="0.2" stroke="#764ba2" stroke-width="2"/>
                    <text x="150" y="185" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">2. Feature Extraction</text>
                    <text x="150" y="205" text-anchor="middle" fill="#666" font-size="11">TF-IDF, Embeddings, NER</text>
                    
                    <path d="M 150 220 L 150 250" stroke="#764ba2" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <rect x="50" y="250" width="200" height="60" rx="8" fill="#9b59b6" opacity="0.2" stroke="#9b59b6" stroke-width="2"/>
                    <text x="150" y="275" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">3. Clustering</text>
                    <text x="150" y="295" text-anchor="middle" fill="#666" font-size="11">72h window, Score ‚â• 0.60</text>
                    
                    <path d="M 150 310 L 150 340" stroke="#764ba2" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <rect x="50" y="340" width="200" height="60" rx="8" fill="#27ae60" opacity="0.2" stroke="#27ae60" stroke-width="2"/>
                    <text x="150" y="365" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">4. LLM Enrichment</text>
                    <text x="150" y="385" text-anchor="middle" fill="#666" font-size="11">Titles, Summaries, Highlights</text>
                    
                    <path d="M 150 400 L 150 430" stroke="#764ba2" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <rect x="50" y="430" width="200" height="50" rx="8" fill="#e74c3c" opacity="0.2" stroke="#e74c3c" stroke-width="2"/>
                    <text x="150" y="460" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">5. Snapshot Storage</text>
                    
                    <!-- Realtime Processing (Right Side) -->
                    <text x="650" y="30" text-anchor="middle" fill="#667eea" font-size="18" font-weight="bold">REALTIME PROCESSING</text>
                    <text x="650" y="50" text-anchor="middle" fill="#666" font-size="12">(Continuous)</text>
                    
                    <rect x="550" y="70" width="200" height="60" rx="8" fill="#3498db" opacity="0.2" stroke="#3498db" stroke-width="2"/>
                    <text x="650" y="95" text-anchor="middle" fill="#333" font-size="13" font-weight="bold">New Article Arrives</text>
                    <text x="650" y="115" text-anchor="middle" fill="#666" font-size="11">Generate Features</text>
                    
                    <path d="M 650 130 L 650 160" stroke="#3498db" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <polygon points="650,160 600,210 700,210" fill="#f39c12" opacity="0.2" stroke="#f39c12" stroke-width="2"/>
                    <text x="650" y="185" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Match Score</text>
                    <text x="650" y="200" text-anchor="middle" fill="#666" font-size="11">‚â• 0.55?</text>
                    
                    <!-- High confidence path -->
                    <path d="M 700 185 L 780 185" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    <text x="740" y="175" text-anchor="middle" fill="#27ae60" font-size="11" font-weight="bold">YES</text>
                    <rect x="780" y="160" width="100" height="50" rx="5" fill="#27ae60" opacity="0.8"/>
                    <text x="830" y="180" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Attach to</text>
                    <text x="830" y="195" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Timeline</text>
                    
                    <!-- Low confidence path -->
                    <path d="M 600 185 L 520 185" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrow4)"/>
                    <text x="560" y="175" text-anchor="middle" fill="#e74c3c" font-size="11" font-weight="bold">NO</text>
                    <rect x="420" y="160" width="100" height="50" rx="5" fill="#e74c3c" opacity="0.8"/>
                    <text x="470" y="180" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Hold in</text>
                    <text x="470" y="195" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Backlog</text>
                    
                    <path d="M 470 210 L 470 270" stroke="#e74c3c" stroke-width="2" fill="none" marker-end="url(#arrow3)"/>
                    
                    <rect x="420" y="270" width="100" height="60" rx="5" fill="#9b59b6" opacity="0.8"/>
                    <text x="470" y="290" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Mini-Batch</text>
                    <text x="470" y="305" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Process</text>
                    <text x="470" y="320" text-anchor="middle" fill="white" font-size="10">(Every 4 hours)</text>
                    
                    <!-- Connection between batch and realtime -->
                    <path d="M 250 455 L 400 455 L 400 300 L 420 300" stroke="#333" stroke-width="2" stroke-dasharray="5,5" fill="none"/>
                    <text x="320" y="445" text-anchor="middle" fill="#666" font-size="11">Uses Centroids</text>
                    
                    <defs>
                        <marker id="arrow3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#764ba2"/>
                        </marker>
                        <marker id="arrow4" markerWidth="10" markerHeight="10" refX="1" refY="3" orient="auto">
                            <polygon points="10 0, 0 3, 10 6" fill="#e74c3c"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>

        <!-- Conclusion -->
        <div class="section" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);">
            <h2>üéØ Summary & Next Steps</h2>
            
            <div class="highlight-box">
                <h3 style="margin-bottom: 15px;">The Story Timeline feature delivers:</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 10px 0; font-size: 1.1em;">‚úÖ <strong>Intelligent Grouping:</strong> Automatically clusters related articles using AI</li>
                    <li style="padding: 10px 0; font-size: 1.1em;">‚úÖ <strong>Real-time Updates:</strong> New content is matched and added instantly</li>
                    <li style="padding: 10px 0; font-size: 1.1em;">‚úÖ <strong>High Quality:</strong> Multi-modal scoring and LLM enrichment ensure relevance</li>
                    <li style="padding: 10px 0; font-size: 1.1em;">‚úÖ <strong>Scalable Architecture:</strong> Handles both batch and streaming data efficiently</li>
                    <li style="padding: 10px 0; font-size: 1.1em;">‚úÖ <strong>User-Centric:</strong> Provides coherent storylines with titles, summaries, and highlights</li>
                </ul>
            </div>
            
            <div style="margin-top: 30px; text-align: center; padding: 30px; background: white; border-radius: 10px;">
                <h3 style="color: #667eea; margin-bottom: 15px;">Ready for Implementation</h3>
                <p style="font-size: 1.1em; color: #666;">This system combines the best of batch processing for comprehensive analysis and real-time streaming for immediate updates, delivering a powerful news timeline experience.</p>
            </div>
        </div>

        <footer>
            <p><strong>Story Timeline Feature</strong> | Intelligent News Clustering System</p>
            <p style="margin-top: 10px; opacity: 0.8;">¬© 2024 | Confidential - For Management Review</p>
        </footer>
    </div>
</body>
</html>